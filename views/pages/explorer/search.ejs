<%- include("../../partials/head")%>

<div class="container my-5 ">
    <div class="row">
        <div class="col-md-6 offset-md-3">

             <h5>Search Result for - <%= searchTerm %></h5> 

             <% if(posts.length === 0 ) { %>
                <p class="text-center text muted my-5">Nothing Found</p>
                           
            <% } else { %>
                <% for (let post of posts) { %>
                    <div class="card card-body">
                        <a href="/explorer/<%= post.id%>" style="color: #222222;">
                            <h5> <%= post.title %> </h5>
                            <p> <%= truncate(post.body) %> </p>
                        </a>
                    </div>
                <% } %>
            <% } %> 


           <% if (totalPage > 1) { %>
                <nav>
                    <ul class="pagination">
                        <li class="page-item <%= currentPage == 1 ? 'disabled' : '' %>">
                            <a href="<%= `/search?term =${term}&page=${currentPage - 1} ` %>" class="page-link">
                                Previas
                            </a>
                        </li>

                        <% for(let i = 1; i <= totalPage; i++) {%>
                            <li class="page-item <%= currentPage == i ? 'active' : '' %>">
                            <a href="<% `/search?term =${term}&page=${i} `  %>" class="page-link">
                                <%= i %>
                            </a>
                        </li>

                        <% } %>

                        <li class="page-item <%= totalPage == 1 ? 'disabled' : '' %>">
                            <a href="<%= `/search?term =${term}&page=${currentPage + 1} ` %>" class="page-link">
                                Next
                            </a>
                        </li>
                    </ul>
                </nav>
            <% } %> 
                
        </div>
    </div>
</div>

<%- include("../../partials/footer")%>


</body>
</html>